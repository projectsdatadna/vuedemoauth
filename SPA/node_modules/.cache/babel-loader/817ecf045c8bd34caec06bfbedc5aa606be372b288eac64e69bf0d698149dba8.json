{"ast":null,"code":"/*! @azure/msal-browser v2.31.0 2022-11-07 */\n'use strict';\n\nimport { __spread, __awaiter, __generator } from '../_virtual/_tslib.js';\nimport { KEY_FORMAT_JWK } from '../utils/BrowserConstants.js';\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */\nvar MsrBrowserCrypto = /** @class */function () {\n  function MsrBrowserCrypto() {}\n  MsrBrowserCrypto.prototype.initPrng = function (entropy) {\n    // Turn into array, as initPrng seems to not always like Uint8Array (even though it should support both)\n    return window.msrCrypto.initPrng(__spread(entropy));\n  };\n  MsrBrowserCrypto.prototype.getRandomValues = function (dataBuffer) {\n    return window.msrCrypto.getRandomValues(dataBuffer);\n  };\n  MsrBrowserCrypto.prototype.generateKey = function (algorithm, extractable, keyUsages) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2 /*return*/, window.msrCrypto.subtle.generateKey(algorithm, extractable, keyUsages)];\n      });\n    });\n  };\n  MsrBrowserCrypto.prototype.exportKey = function (key) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2 /*return*/, window.msrCrypto.subtle.exportKey(KEY_FORMAT_JWK, key)];\n      });\n    });\n  };\n  MsrBrowserCrypto.prototype.importKey = function (keyData, algorithm, extractable, keyUsages) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2 /*return*/, window.msrCrypto.subtle.importKey(KEY_FORMAT_JWK, keyData, algorithm, extractable, keyUsages)];\n      });\n    });\n  };\n  MsrBrowserCrypto.prototype.sign = function (algorithm, key, data) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2 /*return*/, window.msrCrypto.subtle.sign(algorithm, key, data)];\n      });\n    });\n  };\n  MsrBrowserCrypto.prototype.digest = function (algorithm, data) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2 /*return*/, window.msrCrypto.subtle.digest(algorithm, data)];\n      });\n    });\n  };\n  return MsrBrowserCrypto;\n}();\nexport { MsrBrowserCrypto };","map":{"version":3,"mappings":";;;;;;AAAA;;;;;EAgBA;EACIA,mCAAQ,GAAR,UAASC,OAAoB;;IAEzB,OAAOC,MAAM,CAACC,SAAS,CAACC,QAAQ,UAAKH,OAAO,EAAE;GACjD;EAEDD,0CAAe,GAAf,UAAgBK,UAAsB;IAClC,OAAOH,MAAM,CAACC,SAAS,CAACG,eAAe,CAACD,UAAU,CAAC;GACtD;EAEKL,sCAAW,GAAjB,UAAkBO,SAAgC,EAAEC,WAAoB,EAAEC,SAAqB;;;QAC3F,sBAAOP,MAAM,CAACC,SAAS,CAACO,MAAM,CAACC,WAAW,CAACJ,SAAS,EAAEC,WAAW,EAAEC,SAAS,CAA2B;;;GAC1G;EAEKT,oCAAS,GAAf,UAAgBY,GAAc;;;QAC1B,sBAAOV,MAAM,CAACC,SAAS,CAACO,MAAM,CAACG,SAAS,CAACC,cAAc,EAAEF,GAAG,CAA+C;;;GAC9G;EAEKZ,oCAAS,GAAf,UAAgBe,OAAmB,EAAER,SAAgC,EAAEC,WAAoB,EAAEC,SAAqB;;;QAC9G,sBAAOP,MAAM,CAACC,SAAS,CAACO,MAAM,CAACM,SAAS,CAACF,cAAc,EAAEC,OAAO,EAAER,SAAS,EAAEC,WAAW,EAAEC,SAAS,CAAuB;;;GAC7H;EAEKT,+BAAI,GAAV,UAAWO,SAA8B,EAAEK,GAAc,EAAEK,IAAiB;;;QACxE,sBAAOf,MAAM,CAACC,SAAS,CAACO,MAAM,CAACQ,IAAI,CAACX,SAAS,EAAEK,GAAG,EAAEK,IAAI,CAAyB;;;GACpF;EAEKjB,iCAAM,GAAZ,UAAaO,SAA8B,EAAEU,IAAgB;;;QACzD,sBAAOf,MAAM,CAACC,SAAS,CAACO,MAAM,CAACS,MAAM,CAACZ,SAAS,EAAEU,IAAI,CAAyB;;;GACjF;EACL,uBAAC;AAAD,CAAC","names":["MsrBrowserCrypto","entropy","window","msrCrypto","initPrng","dataBuffer","getRandomValues","algorithm","extractable","keyUsages","subtle","generateKey","key","exportKey","KEY_FORMAT_JWK","keyData","importKey","data","sign","digest"],"sources":["C:\\Azure\\gitauthdemo\\ms-identity-javascript-react-tutorial\\3-Authorization-II\\2-call-api-b2c\\SPA\\node_modules\\@azure\\msal-browser\\src\\crypto\\MsrBrowserCrypto.ts"],"sourcesContent":["/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n\nimport { KEY_FORMAT_JWK } from \"../utils/BrowserConstants\";\nimport { ISubtleCrypto } from \"./ISubtleCrypto\";\n\ndeclare global {\n    interface Window {\n        msrCrypto: Crypto & {\n            initPrng: (entropy: Uint8Array | number[]) => void\n        }\n    }\n}\n\nexport class MsrBrowserCrypto implements ISubtleCrypto {\n    initPrng(entropy : Uint8Array): void {\n        // Turn into array, as initPrng seems to not always like Uint8Array (even though it should support both)\n        return window.msrCrypto.initPrng([...entropy]);\n    }\n\n    getRandomValues(dataBuffer: Uint8Array): Uint8Array {\n        return window.msrCrypto.getRandomValues(dataBuffer);\n    }\n\n    async generateKey(algorithm: RsaHashedKeyGenParams, extractable: boolean, keyUsages: KeyUsage[]): Promise<CryptoKeyPair> {\n        return window.msrCrypto.subtle.generateKey(algorithm, extractable, keyUsages) as Promise<CryptoKeyPair>;\n    }\n\n    async exportKey(key: CryptoKey): Promise<JsonWebKey> {\n        return window.msrCrypto.subtle.exportKey(KEY_FORMAT_JWK, key) as Promise<JsonWebKey> as Promise<JsonWebKey>;\n    }\n\n    async importKey(keyData: JsonWebKey, algorithm: RsaHashedImportParams, extractable: boolean, keyUsages: KeyUsage[]): Promise<CryptoKey> {\n        return window.msrCrypto.subtle.importKey(KEY_FORMAT_JWK, keyData, algorithm, extractable, keyUsages) as Promise<CryptoKey>;\n    }\n\n    async sign(algorithm: AlgorithmIdentifier, key: CryptoKey, data: ArrayBuffer): Promise<ArrayBuffer> {\n        return window.msrCrypto.subtle.sign(algorithm, key, data) as Promise<ArrayBuffer>;\n    }\n\n    async digest(algorithm: AlgorithmIdentifier, data: Uint8Array): Promise<ArrayBuffer> {\n        return window.msrCrypto.subtle.digest(algorithm, data) as Promise<ArrayBuffer>; \n    }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}